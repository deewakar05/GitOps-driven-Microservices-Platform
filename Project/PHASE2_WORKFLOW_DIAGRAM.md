# CI Pipeline Workflow Diagram

## Visual Flow Representation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         GITHUB EVENT TRIGGER                                 â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ Push to      â”‚  â”‚ Pull Request â”‚  â”‚ Manual       â”‚                    â”‚
â”‚  â”‚ main/develop â”‚  â”‚ to main/dev  â”‚  â”‚ Dispatch     â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         JOB 1: TEST (Parallel)                               â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  user-service Tests     â”‚      â”‚  order-service Tests   â”‚               â”‚
â”‚  â”‚                         â”‚      â”‚                         â”‚               â”‚
â”‚  â”‚  â€¢ Install dependencies â”‚      â”‚  â€¢ Install dependencies â”‚               â”‚
â”‚  â”‚  â€¢ Run pytest           â”‚      â”‚  â€¢ Run pytest           â”‚               â”‚
â”‚  â”‚  â€¢ Generate coverage    â”‚      â”‚  â€¢ Generate coverage    â”‚               â”‚
â”‚  â”‚  â€¢ Upload artifacts     â”‚      â”‚  â€¢ Upload artifacts     â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                               â”‚
â”‚  âœ… All tests must pass before proceeding                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      JOB 2: BUILD (Parallel)                                 â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  user-service Build     â”‚      â”‚  order-service Build   â”‚               â”‚
â”‚  â”‚                         â”‚      â”‚                         â”‚               â”‚
â”‚  â”‚  â€¢ Setup Buildx         â”‚      â”‚  â€¢ Setup Buildx         â”‚               â”‚
â”‚  â”‚  â€¢ Build Docker image   â”‚      â”‚  â€¢ Build Docker image   â”‚               â”‚
â”‚  â”‚  â€¢ Scan with Trivy      â”‚      â”‚  â€¢ Scan with Trivy      â”‚               â”‚
â”‚  â”‚  â€¢ Save image artifact  â”‚      â”‚  â€¢ Save image artifact  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                               â”‚
â”‚  ğŸ”’ Security scans run automatically                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                               â”‚
                â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  JOB 3: PUSH TO ECR       â”‚  â”‚  JOB 4: INTEGRATION TEST                 â”‚
â”‚  (main branch only)        â”‚  â”‚                                          â”‚
â”‚                            â”‚  â”‚  â€¢ Build with docker-compose             â”‚
â”‚  â€¢ Configure AWS          â”‚  â”‚  â€¢ Start all services                    â”‚
â”‚  â€¢ Login to ECR           â”‚  â”‚  â€¢ Test health endpoints                 â”‚
â”‚  â€¢ Load image artifact     â”‚  â”‚  â€¢ Test API integration                   â”‚
â”‚  â€¢ Tag with SHA           â”‚  â”‚  â€¢ Test metrics endpoints                 â”‚
â”‚  â€¢ Tag as latest          â”‚  â”‚  â€¢ Cleanup                                â”‚
â”‚  â€¢ Push to ECR            â”‚  â”‚                                          â”‚
â”‚                            â”‚  â”‚  âœ… Validates full stack                 â”‚
â”‚  âœ… Images in ECR         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    JOB 5: SECURITY SUMMARY                                   â”‚
â”‚                                                                               â”‚
â”‚  â€¢ Compile security scan results                                             â”‚
â”‚  â€¢ Generate summary report                                                    â”‚
â”‚  â€¢ Upload to GitHub Security tab                                             â”‚
â”‚                                                                               â”‚
â”‚  ğŸ”’ Security findings visible in GitHub                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Detailed Job Flow

### Job 1: Test
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Matrix Strategy: Parallel Execution    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Service 1: user-service                â”‚
â”‚  â”œâ”€ Checkout code                       â”‚
â”‚  â”œâ”€ Setup Python 3.11                   â”‚
â”‚  â”œâ”€ Install dependencies                â”‚
â”‚  â”œâ”€ Run pytest with coverage            â”‚
â”‚  â””â”€ Upload test artifacts               â”‚
â”‚                                          â”‚
â”‚  Service 2: order-service              â”‚
â”‚  â”œâ”€ Checkout code                       â”‚
â”‚  â”œâ”€ Setup Python 3.11                   â”‚
â”‚  â”œâ”€ Install dependencies                â”‚
â”‚  â”œâ”€ Run pytest with coverage            â”‚
â”‚  â””â”€ Upload test artifacts               â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Job 2: Build
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Matrix Strategy: Parallel Execution    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Service 1: user-service                â”‚
â”‚  â”œâ”€ Setup Docker Buildx                 â”‚
â”‚  â”œâ”€ Extract metadata (tags)             â”‚
â”‚  â”œâ”€ Build Docker image                  â”‚
â”‚  â”‚  â””â”€ Use BuildKit cache              â”‚
â”‚  â”œâ”€ Scan image with Trivy               â”‚
â”‚  â”œâ”€ Upload scan results (SARIF)         â”‚
â”‚  â””â”€ Save image as artifact              â”‚
â”‚                                          â”‚
â”‚  Service 2: order-service              â”‚
â”‚  â”œâ”€ Setup Docker Buildx                 â”‚
â”‚  â”œâ”€ Extract metadata (tags)             â”‚
â”‚  â”œâ”€ Build Docker image                  â”‚
â”‚  â”‚  â””â”€ Use BuildKit cache              â”‚
â”‚  â”œâ”€ Scan image with Trivy               â”‚
â”‚  â”œâ”€ Upload scan results (SARIF)         â”‚
â”‚  â””â”€ Save image as artifact              â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Job 3: Push to ECR (Conditional)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Condition: main branch or tags         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Matrix Strategy: Parallel Execution    â”‚
â”‚                                          â”‚
â”‚  Service 1: user-service                â”‚
â”‚  â”œâ”€ Configure AWS credentials           â”‚
â”‚  â”œâ”€ Login to Amazon ECR                 â”‚
â”‚  â”œâ”€ Download image artifact              â”‚
â”‚  â”œâ”€ Load Docker image                   â”‚
â”‚  â”œâ”€ Tag: <sha>                          â”‚
â”‚  â”œâ”€ Tag: latest                         â”‚
â”‚  â”œâ”€ Push: <sha> tag                     â”‚
â”‚  â””â”€ Push: latest tag                     â”‚
â”‚                                          â”‚
â”‚  Service 2: order-service              â”‚
â”‚  â”œâ”€ Configure AWS credentials           â”‚
â”‚  â”œâ”€ Login to Amazon ECR                 â”‚
â”‚  â”œâ”€ Download image artifact              â”‚
â”‚  â”œâ”€ Load Docker image                   â”‚
â”‚  â”œâ”€ Tag: <sha>                          â”‚
â”‚  â”œâ”€ Tag: latest                         â”‚
â”‚  â”œâ”€ Push: <sha> tag                     â”‚
â”‚  â””â”€ Push: latest tag                     â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Job 4: Integration Test
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Full Stack Testing                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  1. Setup                                â”‚
â”‚     â”œâ”€ Checkout code                    â”‚
â”‚     â””â”€ Setup Docker Buildx              â”‚
â”‚                                          â”‚
â”‚  2. Build                                â”‚
â”‚     â””â”€ docker-compose build             â”‚
â”‚                                          â”‚
â”‚  3. Start Services                       â”‚
â”‚     â””â”€ docker-compose up -d             â”‚
â”‚                                          â”‚
â”‚  4. Health Checks                        â”‚
â”‚     â”œâ”€ user-service: /health            â”‚
â”‚     â”œâ”€ user-service: /health/ready      â”‚
â”‚     â”œâ”€ user-service: /health/live       â”‚
â”‚     â”œâ”€ order-service: /health           â”‚
â”‚     â”œâ”€ order-service: /health/ready     â”‚
â”‚     â””â”€ order-service: /health/live      â”‚
â”‚                                          â”‚
â”‚  5. API Integration                     â”‚
â”‚     â”œâ”€ Create user                      â”‚
â”‚     â”œâ”€ Create order                     â”‚
â”‚     â””â”€ Verify responses                 â”‚
â”‚                                          â”‚
â”‚  6. Metrics                              â”‚
â”‚     â”œâ”€ Test /metrics endpoints          â”‚
â”‚     â””â”€ Verify data                      â”‚
â”‚                                          â”‚
â”‚  7. Cleanup                              â”‚
â”‚     â””â”€ docker-compose down -v          â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Image Tagging Flow

```
Commit SHA: abc123def456...
Branch: main

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Image Tags Created:                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  1. user-service:abc123def456...        â”‚
â”‚     â””â”€ Unique commit identifier         â”‚
â”‚                                          â”‚
â”‚  2. user-service:latest                 â”‚
â”‚     â””â”€ Latest stable (main only)         â”‚
â”‚                                          â”‚
â”‚  3. order-service:abc123def456...       â”‚
â”‚     â””â”€ Unique commit identifier         â”‚
â”‚                                          â”‚
â”‚  4. order-service:latest                â”‚
â”‚     â””â”€ Latest stable (main only)        â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Conditional Execution Logic

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Push Event                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Branch: main                           â”‚
â”‚  â”œâ”€ âœ… Run all jobs                     â”‚
â”‚  â”œâ”€ âœ… Push to ECR                      â”‚
â”‚  â””â”€ âœ… Tag as latest                    â”‚
â”‚                                          â”‚
â”‚  Branch: develop                        â”‚
â”‚  â”œâ”€ âœ… Run all jobs                     â”‚
â”‚  â”œâ”€ âŒ Skip ECR push                    â”‚
â”‚  â””â”€ âŒ No latest tag                    â”‚
â”‚                                          â”‚
â”‚  Branch: feature/*                      â”‚
â”‚  â”œâ”€ âœ… Run all jobs                     â”‚
â”‚  â”œâ”€ âŒ Skip ECR push                    â”‚
â”‚  â””â”€ âŒ No latest tag                    â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pull Request Event                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  All Branches                           â”‚
â”‚  â”œâ”€ âœ… Run tests                        â”‚
â”‚  â”œâ”€ âœ… Build images                     â”‚
â”‚  â”œâ”€ âœ… Security scans                   â”‚
â”‚  â”œâ”€ âœ… Integration tests                â”‚
â”‚  â”œâ”€ âŒ Skip ECR push                    â”‚
â”‚  â””â”€ âŒ No latest tag                    â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Artifact Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Artifacts Created                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  From Job 1 (Test):                     â”‚
â”‚  â”œâ”€ test-results-user-service.xml      â”‚
â”‚  â”œâ”€ test-results-order-service.xml     â”‚
â”‚  â”œâ”€ coverage-user-service.xml          â”‚
â”‚  â””â”€ coverage-order-service.xml         â”‚
â”‚                                          â”‚
â”‚  From Job 2 (Build):                    â”‚
â”‚  â”œâ”€ docker-image-user-service.tar      â”‚
â”‚  â””â”€ docker-image-order-service.tar     â”‚
â”‚                                          â”‚
â”‚  From Job 2 (Security):                 â”‚
â”‚  â”œâ”€ trivy-results.sarif (uploaded)      â”‚
â”‚  â””â”€ Visible in GitHub Security tab     â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Time Estimates

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Typical Execution Times                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Job 1 (Test):        ~2-3 minutes     â”‚
â”‚  Job 2 (Build):        ~3-5 minutes    â”‚
â”‚  Job 3 (Push ECR):    ~1-2 minutes     â”‚
â”‚  Job 4 (Integration):  ~2-3 minutes     â”‚
â”‚  Job 5 (Summary):      ~10 seconds      â”‚
â”‚                                          â”‚
â”‚  Total (Parallel):     ~5-8 minutes     â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Success Criteria

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pipeline Success Indicators            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  âœ… All tests pass                      â”‚
â”‚  âœ… Docker images build successfully     â”‚
â”‚  âœ… Security scans complete              â”‚
â”‚  âœ… Integration tests pass               â”‚
â”‚  âœ… Images pushed to ECR (if main)       â”‚
â”‚  âœ… No critical vulnerabilities          â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
